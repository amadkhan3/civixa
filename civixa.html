<!DOCTYPE html>
<html>
<body>
<canvas id="myCanvas" width="960" height="640" style="border:1px solid #d3d3d3;">
Your browser does not support the HTML5 canvas tag.
</canvas>
<button onClick="shapeSelector('square')">Square</button>
<button onClick="shapeSelector('circle')">Circle</button>
<button onClick="shapeSelector('clear')">Clear</button>


<script>
var c = document.getElementById("myCanvas");
var ctx = c.getContext("2d");
var img = new Image();
var workingShape = '';
window.onload = function() {
  img.src="https://cdn.pixabay.com/photo/2016/09/01/10/23/image-1635747_960_720.jpg";
  setTimeout(function() {
    ctx.drawImage(img, 0,0);
  },200);
}

function shapeSelector(shape) {
  if (shape != 'clear')
  workingShape = shape;
  else
  workingShape = '';  
}
c.addEventListener("click", function (evt) {
    var mousePos = getMousePos(c, evt);
    console.log(mousePos.x + ',' + mousePos.y);
    drawShapes(mousePos.x, mousePos.y);
    }, false);

function getMousePos(canvas, evt) {  
    var rect = canvas.getBoundingClientRect();
    return {
        x: evt.clientX - rect.left,
        y: evt.clientY - rect.top
    };
}

function drawShapes(x,y) {
  if(workingShape == 'square'){
    ctx.rect(x-100,y-100,200,200);
    ctx.stroke();
  }
  else if (workingShape == 'circle') {
    ctx.beginPath();
    ctx.arc(x, y, 100, 0, 2 * Math.PI);
    ctx.stroke();
  }
  else {

  }
}


</script>

</body>
</html>
